Функция ПолучитьСписокСчетовДляВыбора(ИмяСубконто,Забалансовые,СчетаУчетаДенег) Экспорт 

	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	Счета.Ссылка
		|ИЗ
		|	ПланСчетов.Счета КАК Счета
		|ГДЕ
		|	Счета.ВидыСубконто.ВидСубконто.ИмяПредопределенныхДанных = &ИмяСубконто
		|	И НЕ Счета.СчетГруппа
		|	И (&Забалансовые
		|			ИЛИ НЕ Счета.Забалансовый)
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	Счета.Ссылка
		|ИЗ
		|	ПланСчетов.Счета КАК Счета
		|ГДЕ
		|	Счета.Ссылка В (ЗНАЧЕНИЕ(ПланСчетов.Счета.Касса), ЗНАЧЕНИЕ(ПланСчетов.Счета.СчетВБанке))
		|	И &СчетаУчетаДенег";
	
	Запрос.УстановитьПараметр("Забалансовые", Забалансовые);
	Запрос.УстановитьПараметр("ИмяСубконто", ИмяСубконто);
	Запрос.УстановитьПараметр("СчетаУчетаДенег", СчетаУчетаДенег);
	
	РезультатЗапроса = Запрос.Выполнить();
	
    Возврат РезультатЗапроса.Выгрузить().ВыгрузитьКолонку("Ссылка");
	
КонецФункции // ПолучитьСписокСчетовДляВыборка()
